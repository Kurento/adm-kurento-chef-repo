<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description>Project kurento-media-server (part of kurento)&#xd;
&lt;pre&gt;&#xd;
Type: C&#xd;
Build: &lt;a href=&quot;../kurento-media-server&quot;&gt;changeset&lt;/a&gt; (&lt;a href=&quot;../kurento-media-server_32&quot;&gt;32 bits&lt;/a&gt;) develop (&lt;a href=&quot;../kurento-media-server_merged_32&quot;&gt;32 bits&lt;/a&gt;)  &lt;a href=&quot;../kurento-media-server_release&quot;&gt;release&lt;/a&gt;&#xd;
Features: binarch &#xd;
Open changes in gerrit for project &lt;a href=&quot;/jenkins/gerrit_manual_trigger/gerritSearch?queryString=status:open%20project:kurento-media-server&quot;&gt;kurento-media-server&lt;/a&gt;&#xd;
Generated by create_jobs.py version: 76c4122 generated on 2014/03/06 / 13:56:05&#xd;
&lt;/pre&gt;</description>
  <logRotator class="hudson.tasks.LogRotator">
    <daysToKeep>180</daysToKeep>
    <numToKeep>20</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.plugins.disk__usage.DiskUsageProperty plugin="disk-usage@0.23"/>
  </properties>
  <scm class="hudson.plugins.git.GitSCM" plugin="git@2.0.1">
    <configVersion>2</configVersion>
    <userRemoteConfigs>
      <hudson.plugins.git.UserRemoteConfig>
        <refspec></refspec>
        <url>ssh://jenkins@repository.kurento.com:12345/kurento-media-server</url>
      </hudson.plugins.git.UserRemoteConfig>
    </userRemoteConfigs>
    <branches>
      <hudson.plugins.git.BranchSpec>
        <name>$GERRIT_NEWREV</name>
      </hudson.plugins.git.BranchSpec>
    </branches>
    <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
    <browser class="hudson.plugins.git.browser.GitWeb">
      <url>https://repository.kurento.com/gerrit/gitweb?p=kurento-media-server.git</url>
    </browser>
    <submoduleCfg class="list"/>
    <extensions>
      <hudson.plugins.git.extensions.impl.SubmoduleOption>
        <disableSubmodules>false</disableSubmodules>
        <recursiveSubmodules>true</recursiveSubmodules>
      </hudson.plugins.git.extensions.impl.SubmoduleOption>
    </extensions>
  </scm>
  <assignedNode>gstreamer &amp;&amp; 64bits</assignedNode>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers>
    <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.GerritTrigger plugin="gerrit-trigger@2.10.1">
      <spec></spec>
      <gerritProjects>
        <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.GerritProject>
          <compareType>PLAIN</compareType>
          <pattern>kurento-media-server</pattern>
          <branches>
            <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.Branch>
              <compareType>ANT</compareType>
              <pattern>develop</pattern>
            </com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.Branch>
          </branches>
        </com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.GerritProject>
      </gerritProjects>
      <skipVote>
        <onSuccessful>false</onSuccessful>
        <onFailed>false</onFailed>
        <onUnstable>false</onUnstable>
        <onNotBuilt>false</onNotBuilt>
      </skipVote>
      <silentMode>false</silentMode>
      <escapeQuotes>true</escapeQuotes>
      <noNameAndEmailParameters>false</noNameAndEmailParameters>
      <buildStartMessage></buildStartMessage>
      <buildFailureMessage></buildFailureMessage>
      <buildSuccessfulMessage></buildSuccessfulMessage>
      <buildUnstableMessage></buildUnstableMessage>
      <buildNotBuiltMessage></buildNotBuiltMessage>
      <buildUnsuccessfulFilepath></buildUnsuccessfulFilepath>
      <customUrl>$BUILD_URL</customUrl>
      <triggerOnEvents>
        <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.events.PluginRefUpdatedEvent/>

      </triggerOnEvents>
      <dynamicTriggerConfiguration>false</dynamicTriggerConfiguration>
      <triggerConfigURL></triggerConfigURL>
      <triggerInformationAction/>
    </com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.GerritTrigger>
  </triggers>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>/var/lib/jenkins/tools/jenkins-job-creator/check_release_number.py</command>
    </hudson.tasks.Shell>
    <hudson.tasks.Shell>
      <command>
git fetch --tags &amp;&amp; rm -rf gst-kurento-plugins &amp;&amp; rm -rf build &amp;&amp; git submodule update --init --recursive &amp;&amp;\
export name=$(grep Package debian/control | head -1 | sed -e &quot;s@.*: @@&quot;)
git dch --ignore-branch --debian-tag=kmsc-&quot;%(version)s&quot; --new-version=$(git describe --abbrev=6 --tags --dirty --always --match &quot;kmsc-*&quot; | sed -e &quot;s@[^-]*-@@&quot;) --snapshot &amp;&amp;\

export ver=$(head -1 debian/changelog | sed -e &quot;s@.* (\(.*\)) .*@\1@&quot;) &amp;&amp;\
export sources="../${name}*${ver/-g*}"
rm -rf ../${sources} ../${name}*${ver}.* ../${name}*${ver}_* &amp;&amp;\
dpkg-buildpackage -S -k2F819BC0 &amp;&amp;\

( cd .. &amp;&amp; dpkg-source -x ${name}_${ver}.dsc  &amp;&amp; cd ${sources} &amp;&amp; dpkg-buildpackage  -k2F819BC0 ) &amp;&amp;\
  [ -n "$(ssh -p 20022 jmaster01-64.kurento.com ls /var/www/repo/${name}_${ver/-g*}*.deb)" ] &amp;&amp; echo "Won't deploy .deb" ||\
     scp -o &quot;StrictHostKeyChecking false&quot; -P 20022 ../*${ver}_*.deb jmaster01-64.kurento.com:/var/www/repo
mv ../${sources} ../${name}*${ver}.* ../${name}*${ver}_* . || echo "Error moving files"
</command>
    </hudson.tasks.Shell>
    <hudson.tasks.Shell>
      <command>/var/lib/jenkins/tools/jenkins-job-creator/check_release_number.py -t</command>
    </hudson.tasks.Shell>
    <hudson.plugins.sonar.SonarRunnerBuilder plugin="sonar@2.1">
      <project></project>
      <properties># required metadata
sonar.projectKey=kurento-media-server:develop
sonar.projectName=kurento-media-server develop
sonar.projectVersion=1.0

# path to source directories (required)
sonar.sources=server

# path to test source directories (optional)
sonar.tests=test

# path to project binaries (optional), for example directory of Java bytecode
# sonar.binaries=binDir

# optional comma-separated list of paths to libraries. Only path to JAR file and path to directory of classes are supported.
# sonar.libraries=path/to/library.jar,path/to/classes/dir

# Uncomment this line to analyse a project which is not a java project.
# The value of the property must be the key of the language.
sonar.language=c++

# Additional parameters
# sonar.my.property=value
gerrit.project=${GERRIT_PROJECT}
gerrit.change=${GERRIT_CHANGE_NUMBER}
gerrit.patch=${GERRIT_PATCHSET_NUMBER}

sonar.cxx.cppcheck.reportPath=**cppcheck-project.xml
sonar.cxx.coverage.reportPath=**coverage-*.xml
sonar.cxx.coverage.itReportPath=**it-coverage-*.xml
sonar.cxx.rats.reportPath=**rats*.xml</properties>
      <javaOpts></javaOpts>
      <jdk>(Inherit From Job)</jdk>
      <task></task>
    </hudson.plugins.sonar.SonarRunnerBuilder>
  </builders>
  <publishers>
    <hudson.plugins.warnings.WarningsPublisher plugin="warnings@4.38">
      <healthy></healthy>
      <unHealthy></unHealthy>
      <thresholdLimit>low</thresholdLimit>
      <pluginName>[WARNINGS] </pluginName>
      <defaultEncoding></defaultEncoding>
      <canRunOnFailed>false</canRunOnFailed>
      <useStableBuildAsReference>false</useStableBuildAsReference>
      <useDeltaValues>false</useDeltaValues>
      <thresholds plugin="analysis-core@1.54">
        <unstableTotalAll></unstableTotalAll>
        <unstableTotalHigh></unstableTotalHigh>
        <unstableTotalNormal></unstableTotalNormal>
        <unstableTotalLow></unstableTotalLow>
        <failedTotalAll></failedTotalAll>
        <failedTotalHigh></failedTotalHigh>
        <failedTotalNormal></failedTotalNormal>
        <failedTotalLow></failedTotalLow>
      </thresholds>
      <shouldDetectModules>false</shouldDetectModules>
      <dontComputeNew>true</dontComputeNew>
      <doNotResolveRelativePaths>true</doNotResolveRelativePaths>
      <parserConfigurations/>
      <consoleParsers>
        <hudson.plugins.warnings.ConsoleParser>
          <parserName>GNU Make + GNU C Compiler (gcc)</parserName>
        </hudson.plugins.warnings.ConsoleParser>
      </consoleParsers>
    </hudson.plugins.warnings.WarningsPublisher>
    <hudson.plugins.chucknorris.CordellWalkerRecorder plugin="chucknorris@0.5">
      <factGenerator/>
    </hudson.plugins.chucknorris.CordellWalkerRecorder>
    
    <hudson.tasks.ArtifactArchiver>
      <artifacts>kurento*gbp*</artifacts>
      <latestOnly>false</latestOnly>
      <allowEmptyArchive>true</allowEmptyArchive>
    </hudson.tasks.ArtifactArchiver>
    <hudson.tasks.Mailer plugin="mailer@1.8">
      <recipients>santiago.gala@gmail.com</recipients>
      <dontNotifyEveryUnstableBuild>false</dontNotifyEveryUnstableBuild>
      <sendToIndividuals>true</sendToIndividuals>
    </hudson.tasks.Mailer>

  </publishers>
  <buildWrappers>
    <hudson.plugins.ws__cleanup.PreBuildCleanup plugin="ws-cleanup@0.19">
      <deleteDirs>false</deleteDirs>
      <cleanupParameter></cleanupParameter>
      <externalDelete></externalDelete>
    </hudson.plugins.ws__cleanup.PreBuildCleanup>
  </buildWrappers>
</project>
